{% extends 'business/base.html' %}
{% load static %}

{% block metas %}
  <meta name="description" content="Encontre os melhores talentos para sua organização" />
  <meta name="keywords" content="Talentos, Trabalhador, Recurso, Contratação, Valor" />
{% endblock %}

{% block title %}
  Vagas
{% endblock %}

{% block local_style %}

{% endblock %}

{% block content %}
  <div class="content-wrapper">
    <div class="d-flex justify-content-end">
      {% include 'partials/_messages.html' %}
    </div>

    <div class="jumbotron bg-white">
      <h1 class="display-4">Vagas e Candidaturas</h1>
      <p class="lead">Contrate pessoas com habilidades, mas também com valores alinhados à cultura da empresa</p>
      <hr class="my-4" />
      <p>Grandes profissionais aguardam por grandes companhias lá fora. Está pronto para recebe-los?</p>
      <a href="{% url 'business:register-vacancy' %}" class="btn btn-primary">
        <i class="bi bi-plus-circle-fill"></i>
        Nova Vaga
      </a>
    </div>

    <section>
      <h2>Vagas Candidaturas</h2>
    </section>

    <div class="row">
      <div class="col-12 col-sm-6 col-md-4 col-lg-3">
        <div class="card rounded-lg" style="width: 20rem;">
          <img src="{% static 'assets/images/user.png' %}" class="card-img-top" alt="..." style="width:100%; max-height:230px;" />
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <h5 class="card-title">Card title</h5>
              <h5 class="card-title">Card title</h5>
            </div>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block local_script %}

{% endblock %}

<main id="main">
  <!-- Blog Section - Blog Page -->
  <section id="blog" class="blog">
    <div class="container" data-aos="fade-up" data-aos-delay="100">
      {% if message %}
        <div class="row justify-content-center">
          <div class="col-12">
            {% include 'partials/_alerts.html' %}
          </div>
        </div>
      {% endif %}

      <div class="row gy-4 posts-list">
        {% if posts %}
          {% for post in posts %}
            <div class="col-xl-4 col-lg-6">
              <article>
                <div class="post-img">
                  <img src="{{ post.image_thumb.url }}" alt="" class="img-fluid" />
                </div>
                <p class="post-category">{{ post.category.title }}</p>
                <h2 class="title"><a href="{% url 'blog-article' post.id %}">{{ post.title|safe }}</a></h2>

                <div class="d-flex align-items-center">
                  {% if post.author.image == '' or post.author.image == null %}
                    <img src="{% static 'assets/geral/img/blog/profile_male.svg' %}" alt="" class="img-fluid post-author-img flex-shrink-0" />
                  {% else %}
                    <img src="{{ post.author.image.url }}" alt="{{ post.author.image_alt }}" class="img-fluid post-author-img flex-shrink-0" />
                  {% endif %}
                  <div class="post-meta">
                    <p class="post-author">{{ post.author.get_full_name }}</p>
                    <p class="post-date">
                      <time datetime="2022-01-01">{{ post.created_at }}</time>
                    </p>
                  </div>
                </div>
              </article>
            </div>
          {% endfor %}
        {% else %}
          {% if request.GET.search %}
            <h2>Nenhum resultado encontrado! {{ request.Get.search }}</h2>
          {% endif %}
        {% endif %}
      </div>

      <div class="pagination d-flex justify-content-center">
        <ul>
          {% if posts.has_previous %}
            <li>
              <a href="?page={{ posts.previous_page_number }}"><i class="bi bi-arrow-left"></i></a>
            </li>
          {% endif %}

          <li class="active">
            <a href="#">{{ posts.number }} de {{ posts.paginator.num_pages }}</a>
          </li>

          {% if posts.has_next %}
            <li>
              <a href="?page={{ posts.next_page_number }}"><i class="bi bi-arrow-right"></i></a>
            </li>
          {% endif %}
        </ul>
      </div>
      <!-- End pagination -->
    </div>

    {% include 'partials/_form-newletters.html' %}
  </section>
  <!-- End Blog Section -->
</main>
